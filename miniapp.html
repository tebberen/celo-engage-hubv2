<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Celo Engage Hub – Mini App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="fc:miniapp"
      content='{"version":"1","imageUrl":"https://tebberen.github.io/celo-engage-hubv2/assets/og-celo-engage-hub.svg","button":{"title":"Open Celo Engage Hub","action":{"type":"launch_frame","name":"Celo Engage Hub","url":"https://tebberen.github.io/celo-engage-hubv2/miniapp.html","splashImageUrl":"https://tebberen.github.io/celo-engage-hubv2/assets/logo-celo-engage-hub.png","splashBackgroundColor":"#fbcc5c"}}}'
    />
  </head>
  <body>
    <!-- ==== FARCASTER MINI APP: BEGIN CHANGE ==== -->
    <div id="miniapp-root">
      <h1>Celo Engage Hub – Mini App</h1>
      <p id="miniapp-status">Farcaster mini app view is loading…</p>
    </div>

    <!-- Mini app bundle built for the Farcaster Mini App flow -->
    <script type="module" src="./dist/miniapp.js"></script>
    <script type="module">
      import { sdk } from "https://esm.sh/@farcaster/miniapp-sdk";

      async function bootstrapMiniApp() {
        try {
          console.log("[MiniApp] calling sdk.actions.ready() …");
          await sdk.actions.ready();
          console.log("[MiniApp] ready() resolved, splash can hide.");
        } catch (error) {
          console.error("[MiniApp] sdk.actions.ready() failed:", error);
        }
      }

      if (document.readyState === "complete" || document.readyState === "interactive") {
        bootstrapMiniApp();
      } else {
        window.addEventListener("DOMContentLoaded", bootstrapMiniApp);
      }
    </script>
    <!-- ==== FARCASTER MINI APP: END CHANGE ==== -->
  </body>
</html>
