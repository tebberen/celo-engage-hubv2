<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Celo Engage Hub</title>
  <link rel="stylesheet" href="./src/styles/main.css" />
  <style>
    .wallet-btn {
      background-color: #35D07F;
      color: #000;
      font-weight: bold;
      border: none;
      border-radius: 8px;
      padding: 10px 18px;
      cursor: pointer;
      width: 100%;
      margin-top: 10px;
      transition: background 0.3s ease;
    }
    .wallet-btn:hover {
      background-color: #2fb46d;
    }
    #walletStatus {
      background: #fff;
      padding: 8px;
      border-radius: 8px;
      text-align: center;
      font-size: 14px;
      border: 1px solid #ddd;
    }
  </style>
</head>
<body>
  <div class="centered-content">
    <header>
      <div class="title-bar">
        <span class="emoji">ğŸŒ</span> <span>Celo Engage Hub</span>
      </div>
      <p class="subtitle"><i>Social TX â€“ Where Every Interaction Builds Real Value</i></p>
      <p class="description">If you want support, support first</p>

      <div class="nav-bar">
        <button id="gmBtn">Gm</button>
        <button id="deployBtn">Deploy</button>
        <button id="governanceBtn">Governance</button>
        <button id="badgeBtn">Badge</button>
        <button id="profileBtn">Profile</button>
      </div>
    </header>

    <div class="container">
      <!-- Sol panel -->
      <aside class="sidebar">
        <div class="wallet-box">
          <div id="walletStatus">
            <p>ğŸ”´ Not connected</p>
            <span id="networkLabel">â€”</span>
          </div>
          <button id="walletActionBtn" class="wallet-btn">Connect Wallet</button>
        </div>

        <div class="donate-box">
          <h3>ğŸ’› Donate to Support Hub</h3>
          <p>Choose an amount to support the community</p>
          <div class="donate-buttons">
            <button data-amount="0.5">0.5 CELO</button>
            <button data-amount="1">1 CELO</button>
            <button data-amount="5">5 CELO</button>
            <button data-amount="10">10 CELO</button>
          </div>
        </div>

        <div class="ecosystem-box">
          <h3>ğŸŸ¡ Celo Ecosystem</h3>
          <ul>
            <li><a href="#">ğŸŒ Celo Official</a></li>
            <li><a href="#">ğŸ“˜ Celo Documentation</a></li>
            <li><a href="#">ğŸ’» Developer Portal</a></li>
            <li><a href="#">ğŸ” Celo Explorer</a></li>
            <li><a href="#">ğŸ’¬ Celo Forum</a></li>
            <li><a href="#">ğŸ¦ Celo Twitter</a></li>
          </ul>
        </div>
      </aside>

      <!-- Ana iÃ§erik -->
      <main class="main-content">
        <section class="support-section" id="contentArea">
          <h2>â‘  Support Community Members</h2>
          <div class="support-header">
            <h3>ğŸ¤ Support Others First</h3>
            <p>To submit your link, you must first support at least one community member</p>
          </div>

          <div class="link-grid">
            <div class="link-card">
              <span class="icon">ğŸ™</span> <b>GitHub</b>
              <p>https://github.com/tebberen</p>
              <p>Supports <b>0/5</b></p>
            </div>
            <div class="link-card">
              <span class="icon">ğŸŒ</span> <b>Website</b>
              <p>https://tebberen.github.io/celo-engage-hub-moduler</p>
              <p>Supports <b>0/5</b></p>
            </div>
            <div class="link-card">
              <span class="icon">ğŸŒ</span> <b>Website</b>
              <p>https://pass.celo.org</p>
              <p>Supports <b>0/5</b></p>
            </div>
            <div class="link-card">
              <span class="icon">ğŸ¯</span> <b>Farcaster</b>
              <p>Celo</p>
              <p>Supports <b>0/5</b></p>
            </div>
            <div class="link-card">
              <span class="icon">ğŸ‘¤</span> <b>Profile</b>
              <p>https://jass.celo.org</p>
              <p>Supports <b>0/5</b></p>
            </div>
          </div>
        </section>
      </main>
    </div>
  </div>

  <script type="module">
    import { connectWalletMetaMask, disconnectWallet, getUserAddress, updateNetworkLabel } from "./src/services/walletService.js";

    const walletBtn = document.getElementById("walletActionBtn");
    const walletStatus = document.getElementById("walletStatus");

    walletBtn.addEventListener("click", async () => {
      if (walletBtn.textContent.includes("Connect")) {
        const result = await connectWalletMetaMask();
        if (result && result.userAddress) {
          walletStatus.innerHTML = `<p>âœ… Connected: ${result.userAddress.slice(0,6)}...${result.userAddress.slice(-4)}</p>`;
          walletBtn.textContent = "Disconnect";
          await updateNetworkLabel();
        }
      } else {
        disconnectWallet();
        walletStatus.innerHTML = "<p>ğŸ”´ Not connected</p><span id='networkLabel'>â€”</span>";
        walletBtn.textContent = "Connect Wallet";
      }
    });
  </script>
</body>
</html>
